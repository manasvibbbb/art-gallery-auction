{% extends "base.html" %}

{% block title %}Home - Art Gallery{% endblock %}

{% block content %}
<div class="container mt-5">
    <div class="row">
        <div class="col-12 text-center mb-5">
            <h1 class="display-4 fw-bold text-primary mb-4">üé® Art Gallery & Auction</h1>
            <p class="lead">Discover amazing artworks and participate in live auctions</p>
        </div>
    </div>

    <!-- Featured Artworks -->
    <div class="row mb-5">
        <div class="col-12">
            <h2 class="mb-4">‚ú® Featured Artworks</h2>
        </div>
        {% for artwork in artworks %}
        <div class="col-md-4 mb-4">
            <div class="card h-100 shadow-sm">
                {% if artwork.image %}
                <img src="{{ artwork.image.url }}" class="card-img-top" alt="{{ artwork.title }}" style="height: 250px; object-fit: cover;">
                {% else %}
                <div class="card-img-top bg-secondary d-flex align-items-center justify-content-center" style="height: 250px;">
                    <span class="text-white">No Image</span>
                </div>
                {% endif %}
                <div class="card-body d-flex flex-column">
                    <h5 class="card-title">{{ artwork.title }}</h5>
                    <p class="card-text flex-grow-1">{{ artwork.description|truncatewords:15 }}</p>
                    <div class="mb-3">
                        <span class="badge bg-primary">By {{ artwork.artist.username }}</span>
                        {% if artwork.sale_type == 'auction' %}
                            <span class="badge bg-warning">üî® Auction</span>
                        {% else %}
                            <span class="badge bg-success">üí∞ Fixed Price</span>
                        {% endif %}
                    </div>
                    <div class="mb-3 fw-bold fs-5 text-success">
                        üí∞ ${{ artwork.price }}
                    </div>
                    <a href="{% url 'artwork_detail' artwork.pk %}" class="btn btn-primary w-100 mb-2">View Details</a>
                    {% if user.is_authenticated %}
                        <a href="{% url 'add_to_cart' artwork.pk %}" class="btn btn-outline-success w-100">üõí Add to Cart</a>
                    {% endif %}
                </div>
            </div>
        </div>
        {% empty %}
        <div class="col-12">
            <div class="text-center py-5">
                <h3>No artworks available. Please check back soon!</h3>
            </div>
        </div>
        {% endfor %}
    </div>

    <!-- Quick Links -->
    <div class="row text-center">
        <div class="col-md-3 mb-3">
            <a href="{% url 'auction_list' %}" class="btn btn-warning btn-lg w-100">
                üñºÔ∏è Live Auctions
            </a>
        </div>
        <div class="col-md-3 mb-3">
            <a href="{% url 'customize_art' %}" class="btn btn-info btn-lg w-100">
                üé® Customize Art
            </a>
        </div>
        <div class="col-md-3 mb-3">
            <a href="{% url 'artists_list' %}" class="btn btn-secondary btn-lg w-100">
                üé® Top Artists
            </a>
        </div>
        <div class="col-md-3 mb-3">
            <a href="{% url 'ai_studio' %}" class="btn btn-danger btn-lg w-100">
                ‚ú® AI Studio
            </a>
        </div>
    </div>
</div>
{% endblock %}
